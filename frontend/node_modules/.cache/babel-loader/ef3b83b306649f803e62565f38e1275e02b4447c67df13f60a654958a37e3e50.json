{"ast":null,"code":"import axios from\"axios\";import{useEffect,useReducer}from\"react\";import{useNavigate,useParams}from\"react-router-dom\";import{Helmet}from\"react-helmet-async\";import LoadingBox from\"../components/LoadingBox\";import MessageBox from\"../components/MessageBox\";import{getError}from\"../utils\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const reducer=(state,action)=>{switch(action.type){case\"FETCH_REQUEST\":return{...state,loading:true};case\"FETCH_SUCCESS\":return{...state,info:action.payload,loading:false};case\"FETCH_FAIL\":return{...state,loading:false,error:action.payload};default:return state;}};function TalkScreen(){const navigate=useNavigate();const params=useParams();const{slug}=params;const[{loading,error,info},dispatch]=useReducer(reducer,{info:[],loading:true,error:\"\"});useEffect(()=>{const fetchData=async()=>{dispatch({type:\"FETCH_REQUEST\"});try{const result=await axios.get(\"/api/infos/slug/\".concat(slug));dispatch({type:\"FETCH_SUCCESS\",payload:result.data});}catch(err){dispatch({type:\"FETCH_FAIL\",payload:getError(err)});}};fetchData();},[slug]);return loading?/*#__PURE__*/_jsx(LoadingBox,{}):error?/*#__PURE__*/_jsx(MessageBox,{variant:\"danger\",children:error}):/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"main-talk-holder margin-holder\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"talk-img-holder\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"new-font\",children:info.title}),/*#__PURE__*/_jsx(\"img\",{className:\"img-main-talk\",src:info.image,alt:info.name})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Helmet,{children:/*#__PURE__*/_jsx(\"title\",{children:info.title})}),/*#__PURE__*/_jsx(\"p\",{className:\"talk-desc\",children:info.description})]}),/*#__PURE__*/_jsx(\"div\",{className:\"podcast-source\",children:info.source})]})});}export default TalkScreen;","map":{"version":3,"names":["axios","useEffect","useReducer","useNavigate","useParams","Helmet","LoadingBox","MessageBox","getError","jsx","_jsx","jsxs","_jsxs","reducer","state","action","type","loading","info","payload","error","TalkScreen","navigate","params","slug","dispatch","fetchData","result","get","concat","data","err","variant","children","className","title","src","image","alt","name","description","source"],"sources":["/Users/jtlovato/Documents/GitHub/AOPortfolio/AyodelePortfolio/frontend/src/screens/TalkScreen.js"],"sourcesContent":["import axios from \"axios\";\nimport { useEffect, useReducer } from \"react\";\nimport { useNavigate, useParams } from \"react-router-dom\";\nimport { Helmet } from \"react-helmet-async\";\nimport LoadingBox from \"../components/LoadingBox\";\nimport MessageBox from \"../components/MessageBox\";\nimport { getError } from \"../utils\";\n\nconst reducer = (state, action) => {\n  switch (action.type) {\n    case \"FETCH_REQUEST\":\n      return { ...state, loading: true };\n    case \"FETCH_SUCCESS\":\n      return { ...state, info: action.payload, loading: false };\n    case \"FETCH_FAIL\":\n      return { ...state, loading: false, error: action.payload };\n    default:\n      return state;\n  }\n};\n\nfunction TalkScreen() {\n  const navigate = useNavigate();\n  const params = useParams();\n  const { slug } = params;\n\n  const [{ loading, error, info }, dispatch] = useReducer(reducer, {\n    info: [],\n    loading: true,\n    error: \"\",\n  });\n\n  useEffect(() => {\n    const fetchData = async () => {\n      dispatch({ type: \"FETCH_REQUEST\" });\n      try {\n        const result = await axios.get(`/api/infos/slug/${slug}`);\n        dispatch({ type: \"FETCH_SUCCESS\", payload: result.data });\n      } catch (err) {\n        dispatch({ type: \"FETCH_FAIL\", payload: getError(err) });\n      }\n    };\n    fetchData();\n  }, [slug]);\n\n  return loading ? (\n    <LoadingBox />\n  ) : error ? (\n    <MessageBox variant='danger'>{error}</MessageBox>\n  ) : (\n    <div>\n      <div className='main-talk-holder margin-holder'>\n        <div className='talk-img-holder'>\n          <h1 className='new-font'>{info.title}</h1>\n          <img className='img-main-talk' src={info.image} alt={info.name}></img>\n        </div>\n        <div>\n          <Helmet>\n            <title>{info.title}</title>\n          </Helmet>\n          <p className='talk-desc'>{info.description}</p>\n        </div>\n        <div className='podcast-source'>{info.source}</div>\n      </div>\n    </div>\n  );\n}\nexport default TalkScreen;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}